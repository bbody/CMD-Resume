!function(t){"use strict";var n={standard:{color:"white",bold:!1,italic:!1,backgroundColor:"#000"},title:{color:"red",bold:!0},command:{color:"white",bold:!1,italic:!0},pgp:{color:"white",bold:!1,italic:!0},name:{color:"green",bold:!0}},a={NEW_LINE:"\n",SEMI_COLON:";",EMPTY:"",TAB:"\t",COLON:":",COMA:", ",DASH:" - ",SPACE:" "},e={STANDARD:0,TITLE:1,COMMAND:2,NAME:3,PGP:4,toString:function(t){switch(t){case e.TITLE:return"title";case e.COMMAND:return"command";case e.NAME:return"name";case e.PGP:return"pgp";case e.STANDARD:return"standard";default:return""}}},r=function(t){return void 0===t||null===t},o=function(t){document.title=t?t+"'s Résumé":"Command Line Résumé"},i=function(t,n){return n?"[["+(t=t||a.EMPTY)+"]"+n+"]":a.EMPTY},s=function(n){return!!n&&t.terminal.valid_color(n)};String.prototype.setFormat=function(t){var r=a.EMPTY;if(0===this.length)return r;var o=e.toString(t),c=n[o]?n[o]:n.standard,d=c.color&&s(c.color)?c.color:n.standard.color,m=c.bold?c.bold:n.standard.bold,u=c.italic?c.italic:n.standard.italic,l=c.backgroundColor&&s(c.backgroundColor)?c.backgroundColor:n.standard.backgroundColor;return m&&(r+="b"),u&&(r+="i"),d&&(r+=a.SEMI_COLON,r+=d),l&&((m||u||d)&&(r+=a.SEMI_COLON),r+=l),i(r,this)},String.prototype.setTitle=function(){return this.setFormat(e.TITLE)},String.prototype.setCommand=function(){return this.setFormat(e.COMMAND)},String.prototype.setName=function(){return this.setFormat(e.NAME)},String.prototype.setPGP=function(){return this.setFormat(e.PGP)};var c=function(t,n){return n?t+a.DASH+n:t?t+" - Present":a.EMPTY},d=function(t,n){return n?t+" of "+n:t||a.EMPTY},m=function(t,n){if(!t||!n)return a.EMPTY;switch(t.toLowerCase()){case"twitter":return"https://www.twitter.com/"+n;case"github":return"https://www.github.com/"+n;case"linkedin":return"https://www.linkedin.com/in/"+n;case"facebook":return"https://www.facebook.com/"+n;case"reddit":return"https://www.reddit.com/user/"+n;case"hackernews":return"https://news.ycombinator.com/user?id="+n;default:return a.EMPTY}},u=function(t){var n=a.NEW_LINE;return n+=t&&t.data?t.data:a.EMPTY},l=function(t){return t?t.handler?t.handler(t.data):t.data?t.data:a.EMPTY:a.EMPTY},p=function(t){return a.NEW_LINE+l(t)},f=function(t,n){var e=a.EMPTY;return t.handlers&&(t.handlers.title||t.handlers.organisation||t.handlers.date)?(t.data.some(function(r){return n||(e+=a.NEW_LINE),t.handlers.organisation&&(t.handlers.title||t.handlers.date?e+=t.handlers.organisation(r)+a.TAB:e+=t.handlers.organisation(r)),t.handlers.title&&(t.handlers.date?e+=t.handlers.title(r)+a.TAB:e+=t.handlers.title(r)),t.handlers.date&&(e+=t.handlers.date(r)),n}),e):e},h=function(n,a){var e=t.extend(!0,{},n);return t.each(a,function(t,a){n[t]&&(a.color&&(e[t].color=a.color),r(a.bold)||(e[t].bold=a.bold),r(a.italic)||(e[t].italic=a.italic),a.backgroundColor&&(e[t].backgroundColor=a.backgroundColor))}),e},g=function(t){return t?"https://api.github.com/users/"+t+"/repos":a.EMPTY},b=function(t,n,a){var e=[];return t.forEach(function(t){!t||t.name===n||a!==t.fork&&t.fork||e.push(t)}),e},y=function(n,a,e,r){var o=a.toLowerCase()+".github.com";t.getJSON(n,function(t){t&&t.length>0&&r(b(t,o,e))})},P=function(t,n){var e=a.EMPTY;return t&&t.name?(n||(e+=a.NEW_LINE),e+=t.name.setName(),t.description&&(e+=a.DASH+t.description),e):e};t.fn.CMDResume=function(e,i,s){var b=this;(s=s||{})||"string"!=typeof i&&(s=i),n=h(n,s);var E={};return E.commands={},E.commandProcessor={basic:u,array:f,calculated:p,system:l},E.initTerminal=function(){E.term=b.terminal(function(t,n){n.echo(E.commandLineParse(t)+a.NEW_LINE)},E.settings)},E.initGithubForks=function(t){E.showForks=t.showForks||"true"===t.showForks},E.init=function(t){E.initGithubForks(t),E.initVariables(),E.initCommands(),E.initSettings(),E.initHTMLTitle(),E.initTerminal()},E.commandLineParse=function(t){var n=t.toLowerCase().split(a.SPACE),e=!r(n[0])&&n[0],o=!r(n[1])&&n[1].length>0&&n[1],i=E.commands[e];if("man"===e)return E.commands.man.handler(o);if(i){var s="-top"===o;return E.processCommand(i,s)}return e.length>0?e.setCommand()+" is an unknown command.":"No command entered."},E.processCommand=function(t,n){var e=a.EMPTY;return n||t.type===E.commandProcessor.system||(e+=t.title.setTitle()),e+=t.type(t,n)},E.getCommandList=function(){var n=[];return t.map(E.commands,function(t,a){n.push(a)}),n},E.hasCommand=function(t){return E.commandList.indexOf(t)>=0},E.getCategory=function(t){return E.commands[t].type},E.initCommands=function(){E.commands.man={title:"man".setCommand(),description:"describes what each command does",type:E.commandProcessor.system,handler:function(t){return t?E.hasCommand(t)?t.setCommand()+a.DASH+E.commands[t].description:"man".setCommand()+": "+t.setCommand()+" is an unknown command.":"man:".setCommand()+" No command entered."}},E.commands.help={title:"Help",description:"lists help for all the commands",type:E.commandProcessor.system,handler:function(){var n="Available Commands:".setTitle();return t.map(E.commands,function(t,e){n+=a.NEW_LINE,n+=e.setCommand(),n+=a.DASH,n+=t.description}),n}},E.commands.clear={description:"clear command history from screen"},E.data.basics.name&&(E.commands.name={title:"Name",description:"owner of the résumé",data:E.data.basics.name,type:E.commandProcessor.basic}),E.data.commands&&E.data.commands.pgpkey&&(E.commands.pgpkey={title:"PGP Key",description:"public PGP key",data:E.data.commands.pgpkey,type:E.commandProcessor.calculated,handler:function(t){return t.setPGP()}}),E.data.basics.summary&&(E.commands.about={title:"About",description:"about me",data:E.data.basics.summary,type:E.commandProcessor.basic}),E.data.basics.pdfLink&&(E.commands.pdf={title:"Resume PDF",description:"pdf version of the résumé",data:E.data.basics.pdfLink,type:E.commandProcessor.calculated,handler:function(t){return window.open(t),t+a.NEW_LINE+"Hint: May need to allow pop-ups."}}),E.data.basics.location&&(E.commands.location={title:"Location",description:"current location",data:E.data.basics.location,type:E.commandProcessor.calculated,handler:function(t){return t.city+(t.region?a.COMA+t.region:a.EMPTY)+a.COMA+t.countryCode}}),E.data.basics.label&&(E.commands.lookingfor={title:"Looking For",description:"looking for what kind of position",data:E.data.basics.label,type:E.commandProcessor.calculated,handler:function(t){return t+" positions"}}),E.data.basics.profiles&&(E.commands.socialmedia={title:"Social Media",description:"social media profiles",data:E.data.basics.profiles,type:E.commandProcessor.calculated,handler:function(t){var n=a.EMPTY;return t.forEach(function(t,e){if(t.network)if(0!==e&&(n+=a.NEW_LINE),"email"===t.network.toLowerCase())n+=t.network+a.DASH+t.url.split(a.COLON).charAt(1);else if(t.url)n+=t.network+a.DASH+t.url;else if(t.username){var r=a.EMPTY;(r=m(t.network,t.username))&&(n+=t.network+a.DASH+r)}}),n}}),E.data.skills&&(E.commands.skills={title:"Skills",description:"skills obtained",type:E.commandProcessor.calculated,data:E.data.skills,handler:function(t){var n=a.EMPTY;return t.forEach(function(e,r){n+=e.level,n+=" in ",n+=e.name,r!==t.length-1&&(n+=a.NEW_LINE)}),n}}),E.commands.splash={title:"Splash Screen",description:"print the welcome screen",type:E.commandProcessor.system,handler:function(){var t=a.EMPTY;return E.data.commands.splash&&E.data.commands.splash&&(t+=E.data.commands.splash,t+=a.NEW_LINE),E.data.basics.name?t+="Welcome to "+E.data.basics.name.setName()+"'s résumé.":t+="Welcome to my résumé.",t+=a.NEW_LINE,t+=a.NEW_LINE,t+="Type ",t+="help".setCommand(),t+=" for commands"}},E.data.education&&(E.commands.education={title:"Education",description:"education history",data:E.data.education,type:E.commandProcessor.array,handlers:{organisation:function(t){return t.institution},title:function(t){return d(t.studyType,t.area)},date:function(t){return c(t.startDate,t.endDate)}}}),E.data.work&&(E.commands.employment={title:"Employment",description:"employment history",data:E.data.work,type:E.commandProcessor.array,handlers:{organisation:function(t){return t.company},title:function(t){return t.position},date:function(t){return c(t.startDate,t.endDate)}}}),E.data.volunteer&&(E.commands.volunteering={title:"Volunteering",description:"volunteering history",type:E.commandProcessor.array,data:E.data.volunteer,handlers:{organisation:function(t){return t.organization},title:function(t){return t.position},date:function(t){return c(t.startDate,t.endDate)}}}),E.data.awards&&(E.commands.awards={title:"Awards",description:"awards obtained",type:E.commandProcessor.array,data:E.data.awards,handlers:{organisation:function(t){return t.awarder},title:function(t){return t.title},date:function(t){return t.date}}}),E.data.publications&&(E.commands.publications={title:"Publications",description:"publications produced",type:E.commandProcessor.array,data:E.data.publications,handlers:{organisation:function(t){return t.publisher},title:function(t){return t.name},date:function(t){return t.releaseDate}}}),E.data.languages&&(E.commands.languages={title:"Languages",description:"languages",type:E.commandProcessor.array,data:E.data.languages,handlers:{organisation:function(t){return t.language},title:function(t){return t.fluency}}}),E.data.interests&&(E.commands.interests={title:"Interests",description:"interests",type:E.commandProcessor.array,data:E.data.interests,handlers:{organisation:function(t){return t.name+a.COLON},title:function(t){return t.keywords.join(a.COMA)}}}),E.data.references&&(E.commands.references={title:"References",description:"references",type:E.commandProcessor.array,data:E.data.references,handlers:{organisation:function(t){return t.name.setName()+a.COLON},title:function(t){return a.NEW_LINE+t.reference}}})},E.initVariables=function(){E.data.commands={},E.data.basics.profiles.forEach(function(t){E.data.basics.githubUsername||"github"!==t.network.toLowerCase()?"resume"===t.network.toLowerCase()&&(E.data.basics.pdfLink=t.url):t.username?E.data.basics.githubUsername=t.username:t.url&&(E.data.basics.githubUsername=t.url)}),E.data.basics.githubUsername&&y(g(E.data.basics.githubUsername),E.data.basics.githubUsername,E.showForks,function(t){if(!r(t.length)){var n=a.EMPTY;t.forEach(function(t,a){n+=P(t,0===a)}),E.commands.github={title:"Github Repositories",description:"list Github repositories",type:E.commandProcessor.basic,data:n},E.commandList.push("github")}})},E.initSettings=function(){E.commandList=E.getCommandList(),E.settings={greetings:E.commands.splash.handler(),onBlur:function(){return!1},completion:E.commandList}},E.initHTMLTitle=function(){o(E.data.basics.name)},t.getJSON(e,function(n){E.data=n,i||E.init(s),t.getJSON(i,function(t){E.data.pgpkey=t.pgpkey,E.data.pgpkey&&(E.commands.pgpkey={title:"PGP Key",description:"print PGP key",type:E.commandProcessor.calculated,handler:function(){for(var t=a.EMPTY,n=0;n<E.data.pgpkey.length;n++)t+=E.data.pgpkey[n],n!==E.data.pgpkey.length-1&&(t+=a.NEW_LINE);return t.setPGP()}}),t.github&&(E.data.basics.githubUsername=t.github,E.data.githubCache=a.EMPTY),t.splash&&(E.data.splash=t.splash),E.init(s)})}),this.CMDResume=E,this}}(jQuery);