/* v4.4.4 of CMD Resume by Brendon Body(https://github.com/bbody/CMD-Resume.git) */
!function(c){"use strict";var d={standard:{color:"white",bold:!1,italic:!1,backgroundColor:"#000"},title:{color:"red",bold:!0},command:{color:"white",bold:!1,italic:!0},pgp:{color:"white",bold:!1,italic:!0},name:{color:"green",bold:!0}},u="\n",m=";",l="",p="\t",r=", ",f=" - ",h={STANDARD:0,TITLE:1,COMMAND:2,NAME:3,PGP:4,toString:function(t){switch(t){case h.TITLE:return"title";case h.COMMAND:return"command";case h.NAME:return"name";case h.PGP:return"pgp";case h.STANDARD:return"standard";default:return!1}}},g=function(t){return null==t},b=function(t){return!!t&&c.terminal.valid_color(t)},y=function(t,n){return n&&void 0!==t[n]&&t[n].length};String.prototype.setFormat=function(t){var n=l;if(0===this.length)return n;var a,e,i,o,r=h.toString(t),s=c.extend({},d.standard);return r&&t!==h.STANDARD&&(a=s,(e=d[r]).color&&b(e.color)&&(a.color=e.color),e.bold&&(a.bold=e.bold),e.italic&&(a.italic=e.italic),e.backgroundColor&&b(e.backgroundColor)&&(a.backgroundColor=e.backgroundColor),s=a),s.bold&&(n+="b"),s.italic&&(n+="i"),n+=m,n+=s.color,n+=m,n+=s.backgroundColor,i=n,(o=this)?"[["+(i=i||l)+"]"+o+"]":l},String.prototype.setTitle=function(){return this.setFormat(h.TITLE)},String.prototype.setCommand=function(){return this.setFormat(h.COMMAND)},String.prototype.setName=function(){return this.setFormat(h.NAME)},String.prototype.setPGP=function(){return this.setFormat(h.PGP)};var w=function(t){var n=u;return n+=t&&t.data?t.data:l},k=function(t){if(t){if(t.handler)return t.handler(t.data);if(t.data)return t.data}return l},P=function(t){return u+k(t)},C=function(o,r){var s=l;return o.handlers&&o.data.some(function(t){var n=[];if(o.handlers.organisation){var a=o.handlers.organisation(t);a&&n.push(a)}if(o.handlers.title){var e=o.handlers.title(t);e&&n.push(e)}if(o.handlers.date){var i=o.handlers.date(t);i&&n.push(i)}return!r&&n.length&&(s+=u),s+=n.join(p),r}),s},v=function(t,n){return n||t?n?t?t+f+n:"Until "+n:t+" - Present":l},s=function(t){return t.replace("mailto:","")},L=function(t,n,a){return"email"===t.toLowerCase()?(i=a,o="",(e=n)?o=s(e):i&&(o=s(i)),o||!1):n||!(!a||!(n=function(t,n){if(!t||!n)return l;switch(t.toLowerCase()){case"twitter":return"https://www.twitter.com/"+n;case"github":return"https://www.github.com/"+n;case"linkedin":return"https://www.linkedin.com/in/"+n;case"facebook":return"https://www.facebook.com/"+n;case"reddit":return"https://www.reddit.com/user/"+n;case"hackernews":return"https://news.ycombinator.com/user?id="+n;default:return l}}(t,a)))&&n;var e,i,o};String.prototype.upperCaseFirstLetter=function(){return this&&this.length?this.charAt(0).toUpperCase()+this.slice(1):""};c.fn.CMDResume=function(t,n){var a,e,i,o=this;a=d,e=n=n||{},i=c.extend(!0,{},a),c.each(e,function(t,n){a[t]&&(n.color&&(i[t].color=n.color),g(n.bold)||(i[t].bold=n.bold),g(n.italic)||(i[t].italic=n.italic),n.backgroundColor&&(i[t].backgroundColor=n.backgroundColor))}),d=i;var s={commands:{}};return s.commandProcessor={basic:w,array:C,calculated:P,system:k},s.initTerminal=function(){s.term=o.terminal(function(t,n){var a=c.terminal.split_command(t);n.echo(s.commandLineParse(a.name,a.args)+u)},s.settings)},s.initGithubForks=function(t){s.showForks=t.showForks||"true"===t.showForks},s.init=function(t){s.initGithubForks(t),s.initVariables(),s.initCommands(),s.initSettings(),s.initHTMLTitle(),s.initTerminal()},s.commandLineParse=function(t,n){var a=!g(n[0])&&0<n[0].length&&n[0],e=s.commands[t];if("man"===t)return s.commands.man.handler(a);if(e){var i="-top"===a;return s.processCommand(e,i)}return 0<t.length?t.setCommand()+" is an unknown command.":"No command entered."},s.showTitle=function(t,n){return t!==s.commandProcessor.system&&(!n||t!==s.commandProcessor.array)},s.processCommand=function(t,n){var a=l;return s.showTitle(t.type,n)&&(a+=t.title.setTitle()),a+=t.type(t,n)},s.getCommandList=function(){var a=[];return c.map(s.commands,function(t,n){a.push(n)}),a},s.hasCommand=function(t){return 0<=s.commandList.indexOf(t)},s.initMan=function(){s.commands.man={title:"man".setCommand(),description:"describes what each command does",type:s.commandProcessor.system,handler:function(t){return t?s.hasCommand(t)?t.setCommand()+f+s.commands[t].description:"man".setCommand()+": "+t.setCommand()+" is an unknown command.":"man:".setCommand()+" No command entered."}}},s.initHelp=function(){s.commands.help={title:"Help",description:"lists help for all the commands",type:s.commandProcessor.system,handler:function(){var a="Available Commands:".setTitle();return c.map(s.commands,function(t,n){a+=u,a+=n.setCommand(),a+=f,a+=t.description}),a}}},s.initClear=function(){s.commands.clear={description:"clear command history from screen"}},s.initName=function(){y(s.data.basics,"name")&&(s.commands.name={title:"Name",description:"owner of the résumé",data:s.data.basics.name,type:s.commandProcessor.basic})},s.initSummary=function(){y(s.data.basics,"summary")&&(s.commands.about={title:"About",description:"about me",data:s.data.basics.summary,type:s.commandProcessor.basic})},s.initPdfLink=function(){y(s.data.basics,"pdfLink")&&(s.commands.pdf={title:"Résumé PDF",description:"pdf version of the résumé",data:s.data.basics.pdfLink,type:s.commandProcessor.calculated,handler:function(t){return window.open(t),decodeURIComponent(escape(t))+u+"Hint: May need to allow pop-ups."}})},s.initLocation=function(){s.data.basics.location&&(s.commands.location={title:"Location",description:"current location",data:s.data.basics.location,type:s.commandProcessor.calculated,handler:function(t){var n=[];return t.city&&n.push(t.city),t.region&&n.push(t.region),t.countryCode&&n.push(t.countryCode),n.join(r)}})},s.initLabel=function(){y(s.data.basics,"label")&&(s.commands.lookingfor={title:"Looking For",description:"looking for what kind of position",data:s.data.basics.label,type:s.commandProcessor.basic})},s.initProfiles=function(){y(s.data.basics,"profiles")&&(s.commands.socialmedia={title:"Social Media",description:"social media profiles",data:s.data.basics.profiles,type:s.commandProcessor.calculated,handler:function(t){var a=[];return t.forEach(function(t){var n=function(t){if(t.network){var n=L(t.network,t.url,t.username);return!!n&&t.network.upperCaseFirstLetter()+f+n}return!!t.url&&t.url}(t);if(!n)return!0;a.push(n)}),a.join(u)}})},s.initSkills=function(){y(s.data,"skills")&&(s.commands.skills={title:"Skills",description:"skills obtained",type:s.commandProcessor.calculated,data:s.data.skills,handler:function(a){var e=l;return a.forEach(function(t,n){t.level&&(e+=t.level,t.name&&(e+=" in ")),t.name&&(e+=t.name),n!==a.length-1&&(e+=u)}),e}})},s.initSplash=function(){s.commands.splash={title:"Splash Screen",description:"print the welcome screen",type:s.commandProcessor.system,handler:function(){var t=l;return s.data.customSplash?t+=s.data.customSplash:s.data.basics.name?t+="Welcome to "+s.data.basics.name.setName()+"'s résumé.":t+="Welcome to my résumé.",t+=u,t+=u,t+="Type ",t+="help".setCommand(),t+=" for commands"}}},s.initEducation=function(){y(s.data,"education")&&(s.commands.education={title:"Education",description:"education history",data:s.data.education,type:s.commandProcessor.array,handlers:{organisation:function(t){return t.institution},title:function(t){return n=t.studyType,a=t.area,n||a?n?a?n+" of "+a:n:a:l;var n,a},date:function(t){return v(t.startDate,t.endDate)}}})},s.initWork=function(){y(s.data,"work")&&(s.commands.employment={title:"Employment",description:"employment history",data:s.data.work,type:s.commandProcessor.array,handlers:{organisation:function(t){return t.company},title:function(t){return t.position},date:function(t){return v(t.startDate,t.endDate)}}})},s.initVolunteer=function(){y(s.data,"volunteer")&&(s.commands.volunteering={title:"Volunteering",description:"volunteering history",type:s.commandProcessor.array,data:s.data.volunteer,handlers:{organisation:function(t){return t.organization},title:function(t){return t.position},date:function(t){return v(t.startDate,t.endDate)}}})},s.initAwards=function(){y(s.data,"awards")&&(s.commands.awards={title:"Awards",description:"awards obtained",type:s.commandProcessor.array,data:s.data.awards,handlers:{organisation:function(t){return t.awarder},title:function(t){return t.title},date:function(t){return t.date}}})},s.initPublications=function(){y(s.data,"publications")&&(s.commands.publications={title:"Publications",description:"publications produced",type:s.commandProcessor.array,data:s.data.publications,handlers:{organisation:function(t){return t.publisher},title:function(t){return t.name},date:function(t){return t.releaseDate}}})},s.initLanguages=function(){y(s.data,"languages")&&(s.commands.languages={title:"Languages",description:"languages",type:s.commandProcessor.array,data:s.data.languages,handlers:{organisation:function(t){return t.language},title:function(t){return t.fluency}}})},s.initInterests=function(){y(s.data,"interests")&&(s.commands.interests={title:"Interests",description:"interests",type:s.commandProcessor.array,data:s.data.interests,handlers:{organisation:function(t){return t.name?t.name.setName():""},title:function(t){return t.keywords?t.keywords.join(r):""}}})},s.initReferences=function(){y(s.data,"references")&&(s.commands.references={title:"References",description:"references",type:s.commandProcessor.array,data:s.data.references,handlers:{organisation:function(t){return t.name?t.name.setName():""},title:function(t){return t.reference}}})},s.initCommands=function(){s.initMan(),s.initHelp(),s.initClear(),s.initName(),s.initSummary(),s.initPdfLink(),s.initLocation(),s.initLabel(),s.initProfiles(),s.initSkills(),s.initSplash(),s.initEducation(),s.initWork(),s.initVolunteer(),s.initAwards(),s.initPublications(),s.initLanguages(),s.initInterests(),s.initReferences()},s.initSocialMedia=function(){s.data.basics.profiles.forEach(function(t){t.network&&(s.data.basics.githubUsername||"github"!==t.network.toLowerCase()?"resume"===t.network.toLowerCase()&&(s.data.basics.pdfLink=t.url):t.username&&(s.data.basics.githubUsername=t.username))})},s.initGithub=function(){var t,n,i,o,r,a;a=s.data.basics.githubUsername,t=a?"https://api.github.com/users/"+a+"/repos":l,n=s.data.basics.githubUsername,i=s.showForks,o=function(t){var o=l;t.forEach(function(t,n){var a,e,i;o+=(e=0===n,i=l,(a=t)&&a.name&&(e||(i+=u),i+=a.name.setName(),a.description&&(i+=f+a.description)),i)}),s.commands.github={title:"Github Repositories",description:"list Github repositories",type:s.commandProcessor.basic,data:o},s.commandList.push("github")},r=n.toLowerCase()+".github.com",c.getJSON(t,function(t){var n,a,e;t&&0<t.length&&o((n=r,a=i,e=[],t.forEach(function(t){!t||t.name===n||a!==t.fork&&t.fork||e.push(t)}),e))})},s.initVariables=function(){s.data.commands={},s.data.basics.profiles&&s.initSocialMedia(),s.data.basics.githubUsername&&s.initGithub()},s.initSettings=function(){s.commandList=s.getCommandList(),s.settings={greetings:s.commands.splash.handler(),onBlur:function(){return!1},completion:s.commandList}},s.initHTMLTitle=function(){var t;t=s.data.basics.name,document.title=t?t+"'s Résumé":"Command Line Résumé"},c.getJSON(t,function(t){s.data=t,s.data.basics||(s.data.basics={}),n.extraDetails?c.getJSON(n.extraDetails,function(t){s.data.pgpkey=t.pgpkey,s.data.pgpkey&&(s.commands.pgpkey={title:"PGP Key",description:"public PGP key",type:s.commandProcessor.calculated,handler:function(){for(var t=l,n=0;n<s.data.pgpkey.length;n++)t+=s.data.pgpkey[n],n!==s.data.pgpkey.length-1&&(t+=u);return t.setPGP()}}),t.github&&(s.data.basics.githubUsername=t.github,s.data.githubCache=l),t.splash&&("string"==typeof t.splash?s.data.customSplash=t.splash+u:s.data.customSplash=t.splash.join(u)),s.init(n)}):s.init(n)}),this.CMDResume=s,this}}(jQuery);